<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Liste de Tâches</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <!-- Conteneur principal -->
    <div class="container">
      <!-- En-tête de la page -->
      <h1>Liste de Tâches</h1>
      <!-- Formulaire d'ajout de tâche -->
      <div class="ajout-tache">
        <!-- Champ de saisie de la date -->
        <input type="date" id="calendrier" />
        <!-- Menu déroulant pour la priorité -->
        <select id="priorite">
          <option value="(Priorité)">(Priorité)</option>
          <option value="(No Priorité)">(No Priorité)</option>
        </select>
        <!-- Champ de saisie de la nouvelle tâche -->
        <input type="text" id="nouvelle-tache" placeholder="Nouvelle tâche" />
        <!-- Bouton pour valider l'ajout de la tâche -->
        <button id="ajouter-btn" onclick="ajouter()">Valider</button>
      </div>
      <!-- Conteneur des tâches -->
      <div class="taches-container">
        <!-- Image affichée lorsqu'il n'y a pas de tâche -->
        <img class="image" src="image.webp" width="200" alt="image" />
        <!-- Liste des tâches -->
        <ul id="liste-taches"></ul>
      </div>
    </div>
    <!-- script JavaScript -->
    <script src="script.js"></script>
  </body>
</html>
=======
// Sélection des éléments HTML nécessaires
let nouvelleTacheInput = document.getElementById("nouvelle-tache");
let listeTaches = document.getElementById("liste-taches");
let calendrier = document.getElementById("calendrier");
let priorite = document.getElementById("priorite");
let image = document.querySelector(".image"); // Sélection de l'élément de l'image

// Fonction pour ajouter une tâche
function ajouter() {
  // Récupération des valeurs des champs de saisie
  let task = nouvelleTacheInput.value.trim();
  let calendrierContent = calendrier.value.trim();
  let prioriteContent = priorite.value.trim();

  // Vérification si le champ de saisie est vide
  if (!task) {
    alert("Merci de taper quelque chose");
    console.log("Ok");
    return;
  }

  // Création de l'objet tâche avec les informations saisies
  let taskObj = {
    task: task,
    calendrier: calendrierContent,
    priorite: prioriteContent,
  };

  // Ajout de la tâche à la liste
  ajouterTacheToListe(taskObj);

  // Réinitialisation des champs de saisie
  nouvelleTacheInput.value = "";
  calendrier.value = "";
  priorite.value = "";

  // Cacher l'image si la liste des tâches n'est pas vide
  if (listeTaches.children.length > 0) {
    image.style.display = "none"; // Cacher l'image
  } else {
    image.style.display = "block"; // Afficher l'image
  }
}

// Fonction pour ajouter une tâche à la liste
function ajouterTacheToListe(taskObj) {
  let li = document.createElement("li");
  li.innerHTML = `
    <label>
      <input type="checkbox">
      <span class="task-te%xt">${taskObj.task}</span>
      <span class="task-text">${taskObj.calendrier}</span>
      <span class="task-text">${taskObj.priorite}</span>
    </label>
    <button class="supprimer-btn">Supprimer</button>
  `;

  // Ajout de l'élément li à la liste des tâches
  listeTaches.appendChild(li);

  // Attacher un gestionnaire d'événements pour le bouton de suppression
  let supprimerBtn = li.querySelector(".supprimer-btn");
  supprimerBtn.addEventListener("click", function () {
    // Supprimer l'élément parent (li) de la liste
    li.remove();
    // Afficher l'image si la liste des tâches est vide après suppression
    if (listeTaches.children.length === 0) {
      image.style.display = "block"; // Afficher l'image
    }
  });

  // Attacher un gestionnaire d'événements pour la case à cocher
  let checkbox = li.querySelector("input[type='checkbox']");
  checkbox.addEventListener("change", function () {
    if (checkbox.checked) {
      li.classList.add("task-checked");
    } else {
      li.classList.remove("task-checked");
    }
  });
}

// Gestionnaire d'événement pour ajouter une tâche en appuyant sur la touche "Enter"
if (nouvelleTacheInput) {
  nouvelleTacheInput.addEventListener("keyup", function (event) {
    if (event.key === "Enter") {
      ajouter();
    }
  });
}

// Charger les tâches existantes depuis le stockage local lorsque la page est chargée
document.addEventListener("DOMContentLoaded", function () {
  let savedTasks = JSON.parse(localStorage.getItem("tasks")) || [];

  // Ajouter chaque tâche sauvegardée à la liste des tâches
  savedTasks.forEach(function (taskObj) {
    ajouterTacheToListe(taskObj);
  });

  // Cacher l'image si la liste des tâches n'est pas vide après le chargement
  if (listeTaches.children.length > 0) {
    image.style.display = "none"; // Cacher l'image
  }
});

// Fonction pour sauvegarder les tâches dans le stockage local
function sauvegarderTaches() {
  let taches = [];
  let listeTachesItems = listeTaches.querySelectorAll("li");

  // Parcourir chaque élément de la liste des tâches et sauvegarder les informations
  listeTachesItems.forEach(function (item) {
    let task = item.querySelector("span:nth-child(1)").textContent;
    let calendrier = item.querySelector("span:nth-child(2)").textContent;
    let priorite = item.querySelector("span:nth-child(3)").textContent;

    // Ajouter les informations de la tâche à l'objet taches
    taches.push({
      task: task,
      calendrier: calendrier,
      priorite: priorite,
    });
  });

  // Sauvegarder l'objet taches dans le stockage local au format JSON
  localStorage.setItem("tasks", JSON.stringify(taches));
}

// Ajouter un gestionnaire d'événements pour la sauvegarde des tâches lors de la fermeture de la page ou du rechargement
window.addEventListener("beforeunload", sauvegarderTaches);
>>>>>>> 82731cb9f37153dc6e53514105aa2ee901587b0c
